﻿@using Microsoft.AspNetCore.Identity;
@inject UserManager<IdentityUser> UserManager
@inject SignInManager<IdentityUser> SignInManager


<nav class="navbar navbar-expand-lg navbar-white bg-white active" id="mainHeader">

    <button type="button" class="btn btn-light toggle-sidebar" id="sidebar-toggle" data-toggle="collapse" aria-expanded="false">
        <i class="fas fa-bars"></i>
    </button>


    <!-- navbar-header-->
    <div class="collapse navbar-collapse " id="navbarSupportedContent">
        <ul class="navbar-nav ms-auto">

            <li class="nav-item dropdown ">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fas fa-user"></i> <span>﻿ @User.FindFirst("DisplayName")?.Value </span>
                </a>
                <ul class="dropdown-menu nav-list px-3" aria-labelledby="navbarDropdown">
                    <li><a asp-controller="Account" asp-action="Profile" class="nav-link"> <i class="fas fa-address-card text-secondary"> </i> <span class="ps-2"> Profile</span> </a></li>

                    @if (User.IsInRole("Admin"))
                    {
                        <li><a asp-controller="Admin" asp-action="Index" class="nav-link"> <i class="fa-solid fa-users text-secondary"></i> <span class="ps-2">Manage Users</span></a></li>
                        <li><a asp-controller="Account" asp-action="Register" class="nav-link"> <i class="fa-solid fa-user-plus text-secondary"></i> <span class="ps-2">Add user</span></a></li>
                    }
                    <li><hr class="dropdown-divider"></li>
                    <li><a asp-controller="Account" asp-action="Logout" class="nav-link">  <i class="fa fa-sign-out" aria-hidden="true"> </i> <span class="ps-2"> Logout</span></a></li>
                </ul>
            </li>

        </ul>
    </div>
</nav>

